on: push
name: Lint And Test
jobs:
  test:
    name: Test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
        with:
          flutter-version: "3.0.5"
          channel: "stable"
      - run: flutter --version
      - run: flutter pub get
      - run: flutter analyze
      - run: flutter test

    # steps:
    #   - uses: actions/checkout@v1
    #   - uses: actions/setup-java@v1
    #     with:
    #       java-version: "12.x"
    #   - uses: subosito/flutter-action@v1
    #     with:
    #       flutter-version: "1.12.13+hotfix.9"
    #       channel: "stable"
    #   - run: flutter pub get
    #   - run: flutter build apk --split-per-abi --no-shrink
    #   - name: Create a Release APK
    #     uses: ncipollo/release-action@v1
    #     with:
    #       prerelease: true
    #       name: msm-v0.8.3
    #       artifacts: "build/app/outputs/apk/release/*.apk"
    #       bodyFile: "release.md"
    #       token: ${{ secrets.TOKEN }}
